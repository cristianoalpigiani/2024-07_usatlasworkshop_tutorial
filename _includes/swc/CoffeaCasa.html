



<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2022-08-02 21:26:21 -0500">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://localhost:4000/assets/favicons/swc/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons/swc/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons/swc/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons/swc/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons/swc/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="http://localhost:4000/assets/favicons/swc/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Software Carpentry - Quickstart Tutorial"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="http://localhost:4000/assets/favicons/swc/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="http://localhost:4000/assets/favicons/swc/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="http://localhost:4000/assets/favicons/swc/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="http://localhost:4000/assets/favicons/swc/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="http://localhost:4000/assets/favicons/swc/mstile-310x310.png" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <title>Quickstart Tutorial: Coffea Casa</title>
  </head>
  <body>

    


<div class="panel panel-default life-cycle">
  <div id="life-cycle" class="panel-body pre-alpha">
    This lesson is still being designed and assembled (Pre-Alpha version)
  </div>
</div>





    <div class="container">
      
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      
      <a href="https://software-carpentry.org" class="pull-left">
        <img class="navbar-logo" src="../assets/img/swc-icon-blue.svg" alt="Software Carpentry logo" />
      </a>
      

      
      <a class="navbar-brand" href="../index.html">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="../CODE_OF_CONDUCT.html">Code of Conduct</a></li>

        
	
        <li><a href="../setup.html">Setup</a></li>

        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="../01-uchicago/index.html">UChicago Analysis Facility</a></li>
            
            <li><a href="../02-accountrequest/index.html">Account Request & Login via SSH</a></li>
            
            <li><a href="../03-atlasenv/index.html">Atlas environment</a></li>
            
            <li><a href="../04-htcondor/index.html">HTCondor</a></li>
            
            <li><a href="../05-coffea_casa/index.html">Coffea Casa</a></li>
            
            <li><a href="../05-jupyter_lab/index.html">JupyterLab</a></li>
            
            <li><a href="../07-goodpractices/index.html">Good practices</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio/index.html">All in one page (Beta)</a></li>
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
            <li><a href="../about/">About</a></li>
            
            <li><a href="../customization/index.html">Customizing Your Workshop's Website</a></li>
            
            <li><a href="../design/">Background and Design</a></li>
            
            <li><a href="../faq/index.html">FAQ</a></li>
            
            <li><a href="../helpers/index.html">Information for Helpers</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="../LICENSE.html">License</a></li>
	
	<li><a href="https://github.com/eressegu/atlas-example-workflow/edit/gh-pages/_episodes/05-coffea_casa.md">Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>


<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../04-htcondor/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
    <h3 class="maintitle"><a href="../">Quickstart Tutorial</a></h3>
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../05-jupyter_lab/index.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>

<article>
<div class="row">
  <div class="col-md-1">
  </div>
  <div class="col-md-10">
    <h1 class="maintitle">Coffea Casa</h1>
  </div>
  <div class="col-md-1">
  </div>
</div>


<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 0 min
      <br/>
      <strong>Exercises:</strong> 0 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>What is Coffea Casa?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Learn the prerequisites for using Coffea Casa</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<!--
> ## About Coffea Casa
>
> - <a href="#prerequisites">Prerequisites</a>
>
> - <a href="#access">Access</a>
>
> - <a href="#authz">Atlas AuthZ authentication</a> 
>
> - <a href="#docker">Docker</a>
>
> - <a href="#cluster">Cluster resources</a>
>
> - <a href="#open">Open a new console or file</a>
>
> - <a href="#git">Using git</a>
>
{: .callout}-->

<h1 id="about-coffea-casa">About Coffea Casa</h1>
<p>Coffea-Casa -  Is a Prototype of an Analysis Facility for Columnar Object Framework For Effective Analy (Coffea). Provides services for “low latency columnar analysis” based on Dask and Jupyter.
It lowes time for analysis providing a user-friendly computational environment that simplifies and accelerates the delivery of HEP results.</p>

<blockquote class="callout">

  <p>Deployed via Fluxcd</p>

  <p>Docker images served from OSG Harbor</p>

  <p>User authentication via Indico IAM for Atlas</p>

</blockquote>

<p><img src="./../fig/i_c1draft.png" alt="image info" width="700" /></p>

<blockquote class="callout">
  <h2 id="documentation-sources">Documentation sources</h2>

  <ul>
    <li>
      <p>Documentation  <a href="https://coffea-casa.readthedocs.io/en/latest/#">coffea-casa readthedocs</a></p>
    </li>
    <li>
      <p>Coffea <a href="https://coffeateam.github.io/coffea/">documentation</a></p>
    </li>
    <li>
      <p>Check this <a href="https://github.com/CoffeaTeam/coffea-casa-tutorials">tutorial on columnar analysis in coffea</a></p>
    </li>
    <li>
      <p>Are you familiar with Python, Jupyter Notebooks, JupyterLab interface?</p>
      <blockquote>

        <ul>
          <li>
            <p><a href="https://docs.python.org/3/tutorial/"> python tutorial </a></p>
          </li>
          <li>
            <p><a href="https://jupyter.org/"> jupyter notebook documentation </a></p>
          </li>
          <li>
            <p><a href="https://jupyterlab.readthedocs.io/en/stable/user/interface.html"> JupyterLab interface<a></a></a></p>
          </li>
        </ul>

      </blockquote>
    </li>
  </ul>

</blockquote>

<h2 id="access">Access</h2>

<p><a href="https://coffea.af.uchicago.edu">access point to the Coffea-Casa Analysis Facility at UChicago</a></p>

<p><img src="./../fig/coffea_access.png" alt="image info" width="700" /></p>

<h2 id="authz">Atlas AuthZ authentication</h2>

<p><img src="./../fig/coffea_authz.png" alt="image info" width="700" /></p>

<p><img src="./../fig/coffea_authz2.png" alt="image info" width="700" /></p>

<h2 id="docker">Docker</h2>

<p><img src="./../fig/coffea_docker.png" alt="image info" width="700" />
<img src="./../fig/coffea_docker2.png" alt="image info" width="700" /></p>

<h2 id="cluster">Cluster resources</h2>

<p><img src="./../fig/coffea_resources.png" alt="image info" width="600" />
<img src="./../fig/coffea_resources2.png" alt="image info" width="600" /></p>

<h2 id="open">Open a new console or file</h2>

<p><img src="./../fig/coffea_new.png" alt="image info" width="600" /> 
<img src="./../fig/coffea_new2.png" alt="image info" width="700" /></p>

<h2 id="git">Using git</h2>

<p><img src="./../fig/coffea_git.png" alt="image info" width="600" /> 
<img src="./../fig/coffea_git2.png" alt="image info" width="600" /> 
<img src="./../fig/coffea_git3.png" alt="image info" width="600" /></p>

<h1 id="coffea-casa-servicex">Coffea-Casa ServiceX</h1>

<blockquote class="callout">
  <h2 id="about-servicex">About ServiceX</h2>

  <ul>
    <li>
      <p><a href="#servicex">ServiceX</a></p>
    </li>
    <li>
      <p><a href="#columnar">Check this examples!! (please)</a></p>
    </li>
  </ul>

</blockquote>

<p>ServiceX, a component of the IRIS-HEP Intelligent Data Delivery Service, is an experiment-agnostic service to enable on-demand columnar data delivery tailored for interactive, array-based Pythonic analyses. It provides an interface to data storage services and frontend for users to enable columnar transformations.</p>

<p>Columnar data delivery</p>

<p>ServiceX seeks to enable on-demand data delivery of columnar data in a variety of formats for physics analyses. It provides a uniform backend to data storage services, ensuring the user doesn’t have to know how or where the data is stored, and is capable of on-the-fly data transformations into a variety of formats (ROOT files, Arrow arrays, Parquet files, …) The service offers preprocessing functionality via an analysis description language called func-adl that allows users to filter events, request columns, and even compute new variables. This enables the user to start from any format and extract only the data needed for an analysis.</p>

<h2 id="servicex">ServiceX</h2>
<p><img src="./../fig/servicex_1workflow.png" alt="image info" width="700" />
<img src="./../fig/servicex_2globus.png" alt="image info" width="700" />
<img src="./../fig/servicex_3dash.png" alt="image info" width="700" />
<img src="./../fig/servicex_4profile.png" alt="image info" width="700" /></p>

<h2 id="columnar">Check this examples!! ( please (ꈍ◡ꈍ ) )</h2>

<ul>
  <li>
    <p><a href="https://github.com/nikoladze/agc-tools-workshop-2021-physlite">Columnar data analysis with DAOD_PHYSLITE example</a></p>
  </li>
  <li>
    <p><a href="https://github.com/iris-hep/analysis-grand-challenge/blob/main/workshops/agctools2021/HZZ_analysis_pipeline/HZZ_analysis_pipeline.ipynb">Example analysis using ServiceX and Coffea</a></p>
  </li>
  <li>
    <p><a href="https://github.com/kyungeonchoi/ServiceX-at-IRIS-HEP-ACG-workshop-2021">ServiceX analysis on ROOT files with Coffea and TRExFitter</a></p>
  </li>
</ul>



<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>Remember to visit the above additional resources for python, Jupyter Notebooks and JupyterLab if you need to learn more about with how they work or in case of any doubt.</p>
</li>
    
  </ul>
</blockquote>

</article>

<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../04-htcondor/index.html"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../05-jupyter_lab/index.html"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>


      
      
<footer>
  <div class="row">
    <div class="col-md-6 copyright" align="left">
	
	Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a> 2018–2022
	by <a href="https://carpentries.org/">The Carpentries</a>
        <br>
        Licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC-BY 4.0</a> 2016–2018
	by <a href="https://software-carpentry.org">Software Carpentry Foundation</a>
	
    </div>
    <div class="col-md-6 help-links" align="right">
	
	<a href="https://github.com/eressegu/atlas-example-workflow/edit/gh-pages/_episodes/05-coffea_casa.md">Edit on GitHub</a>
	
	/
	<a href="https://github.com/eressegu/atlas-example-workflow/blob/gh-pages/CONTRIBUTING.md">Contributing</a>
	/
	<a href="https://github.com/eressegu/atlas-example-workflow/">Source</a>
	/
	<a href="https://github.com/eressegu/atlas-example-workflow/blob/gh-pages/CITATION">Cite</a>
	/
	<a href="mailto:duranmcecilia@gmail.com">Contact</a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/carpentries/styles/">The Carpentries style</a>
      version <a href="https://github.com/carpentries/styles/releases/tag/v9.5.3">9.5.3</a>.
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
